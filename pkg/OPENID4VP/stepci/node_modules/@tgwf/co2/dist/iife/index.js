var co2=(()=>{var le=Object.create;var S=Object.defineProperty;var fe=Object.getOwnPropertyDescriptor;var Ce=Object.getOwnPropertyNames;var de=Object.getPrototypeOf,Ee=Object.prototype.hasOwnProperty;var G=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),pe=(r,t)=>{for(var e in t)S(r,e,{get:t[e],enumerable:!0})},k=(r,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ce(t))!Ee.call(r,n)&&n!==e&&S(r,n,{get:()=>t[n],enumerable:!(o=fe(t,n))||o.enumerable});return r};var b=(r,t,e)=>(e=r!=null?le(de(r)):{},k(t||!r||!r.__esModule?S(e,"default",{value:r,enumerable:!0}):e,r)),me=r=>k(S({},"__esModule",{value:!0}),r);var z=G(($e,Z)=>{var y=1e3,g=y*60,A=g*60,m=A*24,Re=m*7,he=m*365.25;Z.exports=function(r,t){t=t||{};var e=typeof r;if(e==="string"&&r.length>0)return ye(r);if(e==="number"&&isFinite(r))return t.long?Ae(r):ge(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function ye(r){if(r=String(r),!(r.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!t){var e=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return e*he;case"weeks":case"week":case"w":return e*Re;case"days":case"day":case"d":return e*m;case"hours":case"hour":case"hrs":case"hr":case"h":return e*A;case"minutes":case"minute":case"mins":case"min":case"m":return e*g;case"seconds":case"second":case"secs":case"sec":case"s":return e*y;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}}function ge(r){var t=Math.abs(r);return t>=m?Math.round(r/m)+"d":t>=A?Math.round(r/A)+"h":t>=g?Math.round(r/g)+"m":t>=y?Math.round(r/y)+"s":r+"ms"}function Ae(r){var t=Math.abs(r);return t>=m?T(r,t,m,"day"):t>=A?T(r,t,A,"hour"):t>=g?T(r,t,g,"minute"):t>=y?T(r,t,y,"second"):r+" ms"}function T(r,t,e,o){var n=t>=e*1.5;return Math.round(r/e)+" "+o+(n?"s":"")}});var J=G((Je,$)=>{function Ne(r){e.debug=e,e.default=e,e.coerce=h,e.disable=s,e.enable=n,e.enabled=a,e.humanize=z(),e.destroy=E,Object.keys(r).forEach(i=>{e[i]=r[i]}),e.names=[],e.skips=[],e.formatters={};function t(i){let c=0;for(let u=0;u<i.length;u++)c=(c<<5)-c+i.charCodeAt(u),c|=0;return e.colors[Math.abs(c)%e.colors.length]}e.selectColor=t;function e(i){let c,u=null,F,H;function d(...C){if(!d.enabled)return;let p=d,B=Number(new Date),ce=B-(c||B);p.diff=ce,p.prev=c,p.curr=B,c=B,C[0]=e.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let O=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(P,ae)=>{if(P==="%%")return"%";O++;let Y=e.formatters[ae];if(typeof Y=="function"){let ue=C[O];P=Y.call(p,ue),C.splice(O,1),O--}return P}),e.formatArgs.call(p,C),(p.log||e.log).apply(p,C)}return d.namespace=i,d.useColors=e.useColors(),d.color=e.selectColor(i),d.extend=o,d.destroy=e.destroy,Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>u!==null?u:(F!==e.namespaces&&(F=e.namespaces,H=e.enabled(i)),H),set:C=>{u=C}}),typeof e.init=="function"&&e.init(d),d}function o(i,c){let u=e(this.namespace+(typeof c>"u"?":":c)+i);return u.log=this.log,u}function n(i){e.save(i),e.namespaces=i,e.names=[],e.skips=[];let c,u=(typeof i=="string"?i:"").split(/[\s,]+/),F=u.length;for(c=0;c<F;c++)!u[c]||(i=u[c].replace(/\*/g,".*?"),i[0]==="-"?e.skips.push(new RegExp("^"+i.slice(1)+"$")):e.names.push(new RegExp("^"+i+"$")))}function s(){let i=[...e.names.map(f),...e.skips.map(f).map(c=>"-"+c)].join(",");return e.enable(""),i}function a(i){if(i[i.length-1]==="*")return!0;let c,u;for(c=0,u=e.skips.length;c<u;c++)if(e.skips[c].test(i))return!1;for(c=0,u=e.names.length;c<u;c++)if(e.names[c].test(i))return!0;return!1}function f(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}function h(i){return i instanceof Error?i.stack||i.message:i}function E(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}$.exports=Ne});var I=G((l,_)=>{l.formatArgs=Be;l.save=Oe;l.load=Se;l.useColors=Fe;l.storage=Te();l.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();l.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Fe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Be(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+_.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;r.splice(1,0,t,"color: inherit");let e=0,o=0;r[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(e++,n==="%c"&&(o=e))}),r.splice(o,0,t)}l.log=console.debug||console.log||(()=>{});function Oe(r){try{r?l.storage.setItem("debug",r):l.storage.removeItem("debug")}catch{}}function Se(){let r;try{r=l.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function Te(){try{return localStorage}catch{}}_.exports=J()(l);var{formatters:_e}=_.exports;_e.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var ke={};pe(ke,{averageIntensity:()=>x,co2:()=>v,default:()=>Ye,hosting:()=>V,marginalIntensity:()=>W});var w=4883333333333333e-25;var M=class{constructor(t){this.options=t,this.KWH_PER_BYTE_FOR_NETWORK=w}perByte(t,e){if(t<1)return 0;if(e){let n=t*72e-12*0,s=t*w*475;return n+s}let o=72e-12+w;return t*o*519}};var j=M;var ne=b(I());var L={GIGABYTE:1e9};var N=r=>parseFloat(r.toFixed(2));var q=(0,ne.default)("tgwf:sustainable-web-design"),Ie=.81,Q=.52,X=.14,ee=.15,te=.19,R=442,re=50,Pe=.75,Ge=.25,be=.02,D=class{constructor(t){this.options=t}energyPerByteByComponent(t){let o=t/L.GIGABYTE*Ie;return{consumerDeviceEnergy:o*Q,networkEnergy:o*X,productionEnergy:o*te,dataCenterEnergy:o*ee}}co2byComponent(t,e=R){let o={};for(let[n,s]of Object.entries(t))n.startsWith("dataCenterEnergy")?o[n]=s*e:o[n]=s*R;return o}perByte(t,e=R){let o=this.energyPerByteByComponent(t);if(Boolean(e)===!1&&(e=R),e===!0&&(e=re),typeof e!="number")throw new Error(`perByte expects a numeric value or boolean for the carbon intensity value. Received: ${e}`);let n=this.co2byComponent(o,e);return Object.values(n).reduce((a,f)=>a+f)}perVisit(t,e=R){let o=this.energyPerVisitByComponent(t);if(Boolean(e)===!1&&(e=R),e===!0&&(e=re),typeof e!="number")throw new Error(`perVisit expects a numeric value or boolean for the carbon intensity value. Received: ${e}`);let n=this.co2byComponent(o,e);return Object.values(n).reduce((a,f)=>a+f)}energyPerByte(t){let e=this.energyPerByteByComponent(t);return Object.values(e).reduce((n,s)=>n+s)}energyPerVisitByComponent(t,e=Pe,o=Ge,n=be){let s=this.energyPerByteByComponent(t),a={};q({energyBycomponent:s});let f=Object.values(s);for(let[h,E]of Object.entries(s))a[`${h} - first`]=E*e,a[`${h} - subsequent`]=E*o*n;return q({cacheAdjustedSegmentEnergy:a}),a}energyPerVisit(t){let e=0,o=0,n=Object.entries(this.energyPerVisitByComponent(t));for(let[s,a]of n)s.indexOf("first")>0&&(e+=a);for(let[s,a]of n)s.indexOf("subsequent")>0&&(o+=a);return e+o}emissionsPerVisitInGrams(t,e=R){return N(t*e)}annualEnergyInKwh(t,e=1e3){return t*e*12}annualEmissionsInGrams(t,e=1e3){return t*e*12}annualSegmentEnergy(t){return{consumerDeviceEnergy:N(t*Q),networkEnergy:N(t*X),dataCenterEnergy:N(t*ee),productionEnergy:N(t*te)}}};var U=D;var K=class{constructor(t){if(this.model=new U,t?.model==="1byte")this.model=new j;else if(t?.model==="swd")this.model=new U;else if(t?.model)throw new Error(`"${t.model}" is not a valid model. Please use "1byte" for the OneByte model, and "swd" for the Sustainable Web Design model.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`)}perByte(t,e){return this.model.perByte(t,e)}perVisit(t,e){if(this.model?.perVisit)return this.model.perVisit(t,e);throw new Error(`The perVisit() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}perDomain(t,e){let o=[];for(let n of Object.keys(t.domains)){let s;e&&e.indexOf(n)>-1?s=this.perByte(t.domains[n].transferSize,!0):s=this.perByte(t.domains[n].transferSize),o.push({domain:n,co2:s,transferSize:t.domains[n].transferSize})}return o.sort((n,s)=>s.co2-n.co2),o}perPage(t,e){let o=this.perDomain(t,e),n=0;for(let s of o)n+=s.co2;return n}perContentType(t,e){let o={};for(let s of t.assets){let a=new URL(s.url).domain,f=s.transferSize,h=this.perByte(f,e&&e.indexOf(a)>-1),E=s.type;o[E]||(o[E]={co2:0,transferSize:0}),o[E].co2+=h,o[E].transferSize+=f}let n=[];for(let s of Object.keys(o))n.push({type:s,co2:o[s].co2,transferSize:o[s].transferSize});return n.sort((s,a)=>a.co2-s.co2),n}dirtiestResources(t,e){let o=[];for(let n of t.assets){let s=new URL(n.url).domain,a=n.transferSize,f=this.perByte(a,e&&e.indexOf(s)>-1);o.push({url:n.url,co2:f,transferSize:a})}return o.sort((n,s)=>s.co2-n.co2),o.slice(0,o.length>10?10:o.length)}perParty(t,e){let o=0,n=0,s=t.firstPartyRegEx;for(let a of Object.keys(t.domains))a.match(s)?o+=this.perByte(t.domains[a].transferSize,e&&e.indexOf(a)>-1):n+=this.perByte(t.domains[a].transferSize,e&&e.indexOf(a)>-1);return{firstParty:o,thirdParty:n}}};var v=K;var ie=b(I());var oe=b(I()),ct=(0,oe.default)("tgwf:hostingAPI");function we(r){return typeof r=="string"?Me(r):Le(r)}async function Me(r){return(await(await fetch(`https://api.thegreenwebfoundation.org/greencheck/${r}`)).json()).green}async function Le(r){try{let t="https://api.thegreenwebfoundation.org/v2/greencheckmulti",e=JSON.stringify(r),n=await(await fetch(`${t}/${e}`)).json();return De(n)}catch{return[]}}function De(r){return Object.entries(r).filter(([o,n])=>n.green).map(([o,n])=>n.url)}var se={check:we};var ut=(0,ie.default)("tgwf:hosting");function Ue(r,t){return se.check(r)}var V={check:Ue};var Ke={AFRICA:"489.26",ARG:"365.292",ARM:"206.522",ASIA:"543.57",AUS:"526.876",AUT:"145.083",AZE:"536.585",BGD:"559.606",BLR:"472.727",BEL:"156.063",BOL:"311.475",BIH:"470.982",BRA:"144.677",BGR:"364.136",BDI:"275.862",CAN:"123.859",CHL:"395.565",CHN:"549.288",CRI:"30.903",HRV:"212.161",CYP:"601.19",CZE:"401.272",DNK:"240.419",ECU:"132.964",EGY:"470.879",SLV:"180.87",EST:"488.529",EU:"261.43",EUROPE:"277.64",FIN:"152.651",FRA:"67.781",G20:"445.9",G7:"338.04",GEO:"105.685",DEU:"363.982",GRC:"363.388",HUN:"236.271",IND:"632.656",IRL:"361.274",ITA:"340.937",JPN:"460.647",KAZ:"656.097",KEN:"104.0","LATIN AMERICA AND CARIBBEAN":"261.51",LVA:"226.351",LTU:"247.475",LUX:"183.824",MLT:"452.055",MEX:"391.582",MDA:"642.512",MNG:"725.26",MNE:"335.958",NLD:"386.189","NORTH AMERICA":"345.38",MKD:"444.191",NOR:"26.131",OCEANIA:"479.98",OECD:"338.24",PAK:"363.065",PER:"241.492",PHL:"579.689",POL:"657.138",PRT:"222.632",ROU:"255.718",RUS:"355.431",SAU:"568.967",SEN:"540.098",SRB:"549.083",SGP:"488.21",SVK:"173.854",SVN:"241.956",ZAF:"706.991",KOR:"442.389",ESP:"193.737",SWE:"43.9",CHE:"58.952",TWN:"565.629",TJK:"72.823",THA:"503.034",TUN:"470.848",TUR:"432.293",UKR:"240.28",GBR:"268.255",USA:"378.625",VNM:"491.192",WORLD:"442.37"},ve="average",Ve="2021";var x={data:Ke,type:ve,year:Ve};var xe={AFG:"414",ALB:"0",DZA:"528",ASM:"753",AND:"188",AGO:"1476",AIA:"753",ATG:"753",ARG:"478",ARM:"390",ABW:"753",AUS:"808",AUT:"242",AZE:"534","AZORES (PORTUGAL)":"753",BHS:"753",BHR:"726",BGD:"528",BRB:"749",BLR:"400",BEL:"252",BLZ:"403",BEN:"745",BMU:"753",BTN:"0",BOL:"604",BES:"753",BIH:"1197",BWA:"1486",BRA:"284",VGB:"753",BRN:"681",BGR:"911",BFA:"753",BDI:"414",KHM:"1046",CMR:"659",CAN:"372",CYM:"753",CPV:"753",CAF:"188",TCD:"753","CHANNEL ISLANDS (U.K)":"753",CHL:"657",CHN:"899",COL:"410",COM:"753",COD:"0",COG:"659",COK:"753",CRI:"108",CIV:"466",HRV:"294",CUB:"559",CUW:"876",CYP:"751",CZE:"902",DNK:"362",DJI:"753",DMA:"753",DOM:"601",ECU:"560",EGY:"554",SLV:"547",GNQ:"632",ERI:"915",EST:"1057",SWZ:"0",ETH:"0",FLK:"753",FRO:"753",FJI:"640",FIN:"267",FRA:"158",GUF:"423",PYF:"753",GAB:"946",GMB:"753",GEO:"289",DEU:"650",GHA:"495",GIB:"779",GRC:"507",GRL:"264",GRD:"753",GLP:"753",GUM:"753",GTM:"798",GIN:"753",GNB:"753",GUY:"847",HTI:"1048",HND:"662",HUN:"296",ISL:"0",IND:"951",IDN:"783",IRN:"592",IRQ:"1080",IRL:"380",IMN:"436",ISR:"394",ITA:"414",JAM:"711",JPN:"471",JOR:"529",KAZ:"797",KEN:"574",KIR:"753",PRK:"754",KOR:"555",XKX:"1145",KWT:"675",KGZ:"217",LAO:"1069",LVA:"240",LBN:"794",LSO:"0",LBR:"677",LBY:"668",LIE:"151",LTU:"211",LUX:"220",MDG:"876","MADEIRA (PORTUGAL)":"663",MWI:"489",MYS:"551",MDV:"753",MLI:"1076",MLT:"520",MHL:"753",MTQ:"753",MRT:"753",MUS:"700",MYT:"753",MEX:"531",FSM:"753",MDA:"541",MCO:"158",MNG:"1366",MNE:"899",MSR:"753",MAR:"729",MOZ:"234",MMR:"719",NAM:"355",NRU:"753",NPL:"0",NLD:"326",NCL:"779",NZL:"246",NIC:"675",NER:"772",NGA:"526",NIU:"753",MKD:"851",MNP:"753",NOR:"47",OMN:"479",PAK:"592",PLW:"753",PSE:"719",PAN:"477",PNG:"597",PRY:"0",PER:"473",PHL:"672",POL:"828",PRT:"389",PRI:"596",QAT:"503",REU:"772",ROU:"489",RUS:"476",RWA:"712",SHN:"753",KNA:"753",LCA:"753",MAF:"753",SPM:"753",VCT:"753",WSM:"753",SMR:"414",STP:"753",SAU:"592",SEN:"870",SRB:"1086",SYC:"753",SLE:"489",SGP:"379",SXM:"753",SVK:"332",SVN:"620",SLB:"753",SOM:"753",ZAF:"1070",SSD:"890",ESP:"402",LKA:"731",SDN:"736",SUR:"1029",SWE:"68",CHE:"48",SYR:"713",TWN:"484",TJK:"255",TZA:"531",THA:"450",TLS:"753",TGO:"859",TON:"753",TTO:"559",TUN:"468",TUR:"376",TKM:"927",TCA:"753",TUV:"753",UGA:"279",UKR:"768",ARE:"556",GBR:"380",USA:"416",URY:"174",UZB:"612",VUT:"753",VEN:"711",VNM:"560",VIR:"650",YEM:"807",ZMB:"416",ZWE:"1575","MEMO:  EU 27":"409"},We="marginal",He="2021";var W={data:xe,type:We,year:He};var Ye={co2:v,hosting:V,averageIntensity:x,marginalIntensity:W};return me(ke);})();
//# sourceMappingURL=index.js.map
